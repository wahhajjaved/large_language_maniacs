from django.core.management.base import BaseCommand, CommandError
from django.contrib.auth.models import Group
from onadata.apps.viewer.models.parsed_instance import dict_for_mongo, _encode_for_mongo, xform_instances
from django.conf import settings
from onadata.apps.fsforms.models import FInstance
import json
class Command(BaseCommand):
    help = 'Create default groups'

    def handle(self, *args, **options):
        # f=FInstance.objects.filter(project_fxf__is_staged=True, site_fxf=None, site=None).values_list('instance', flat=True)
        # fm =list(settings.MONGO_DB.instances.find({ "_id": { "$in": list(f) } }, {"fs_site":1, "_id":1}))
        

        datas="[{u'fs_site': u'9025', u'_id': 12262}, {u'fs_site': u'58651', u'_id': 27694}, {u'fs_site': u'58663', u'_id': 27695}, {u'fs_site': u'58664', u'_id': 27697}, {u'fs_site': u'58651', u'_id': 27701}, {u'fs_site': u'24040', u'_id': 28455}, {u'fs_site': u'24040', u'_id': 28457}, {u'fs_site': u'24040', u'_id': 28460}, {u'fs_site': u'24040', u'_id': 28464}, {u'fs_site': u'24040', u'_id': 28468}, {u'fs_site': u'24040', u'_id': 28479}, {u'fs_site': u'24040', u'_id': 28488}, {u'fs_site': u'24040', u'_id': 28489}, {u'fs_site': u'24040', u'_id': 28490}, {u'fs_site': u'24040', u'_id': 28491}, {u'fs_site': u'23777', u'_id': 28524}, {u'fs_site': u'23777', u'_id': 28525}, {u'fs_site': u'23777', u'_id': 28526}, {u'fs_site': u'23777', u'_id': 28527}, {u'fs_site': u'23777', u'_id': 28528}, {u'fs_site': u'23777', u'_id': 28529}, {u'fs_site': u'23777', u'_id': 28530}, {u'fs_site': u'24043', u'_id': 28531}, {u'fs_site': u'24043', u'_id': 28532}, {u'fs_site': u'24043', u'_id': 28533}, {u'fs_site': u'24043', u'_id': 28534}, {u'fs_site': u'24043', u'_id': 28535}, {u'fs_site': u'24043', u'_id': 28537}, {u'fs_site': u'24043', u'_id': 28538}, {u'fs_site': u'24043', u'_id': 28540}, {u'fs_site': u'23772', u'_id': 28545}, {u'fs_site': u'23772', u'_id': 28546}, {u'fs_site': u'23772', u'_id': 28547}, {u'fs_site': u'23772', u'_id': 28548}, {u'fs_site': u'23771', u'_id': 28549}, {u'fs_site': u'23771', u'_id': 28551}, {u'fs_site': u'23771', u'_id': 28552}, {u'fs_site': u'23771', u'_id': 28553}, {u'fs_site': u'23771', u'_id': 28554}, {u'fs_site': u'23771', u'_id': 28555}, {u'fs_site': u'23771', u'_id': 28556}, {u'fs_site': u'23771', u'_id': 28557}, {u'fs_site': u'24040', u'_id': 28558}, {u'fs_site': u'24040', u'_id': 28559}, {u'fs_site': u'23777', u'_id': 28563}, {u'fs_site': u'26646', u'_id': 29363}, {u'fs_site': u'26646', u'_id': 29364}, {u'fs_site': u'26646', u'_id': 29365}, {u'fs_site': u'26646', u'_id': 29366}, {u'fs_site': u'26646', u'_id': 29367}, {u'fs_site': u'26646', u'_id': 29368}, {u'fs_site': u'26646', u'_id': 29369}, {u'fs_site': u'26646', u'_id': 29370}, {u'fs_site': u'26646', u'_id': 29371}, {u'fs_site': u'26646', u'_id': 29372}, {u'fs_site': u'26640', u'_id': 29373}, {u'fs_site': u'26640', u'_id': 29374}, {u'fs_site': u'26640', u'_id': 29375}, {u'fs_site': u'26640', u'_id': 29376}, {u'fs_site': u'26640', u'_id': 29377}, {u'fs_site': u'26640', u'_id': 29378}, {u'fs_site': u'26640', u'_id': 29379}, {u'fs_site': u'26640', u'_id': 29380}, {u'fs_site': u'26630', u'_id': 29381}, {u'fs_site': u'26630', u'_id': 29382}, {u'fs_site': u'26566', u'_id': 29383}, {u'fs_site': u'26566', u'_id': 29384}, {u'fs_site': u'26566', u'_id': 29385}, {u'fs_site': u'26566', u'_id': 29386}, {u'fs_site': u'26566', u'_id': 29387}, {u'fs_site': u'26566', u'_id': 29388}, {u'fs_site': u'26566', u'_id': 29389}, {u'fs_site': u'26566', u'_id': 29390}, {u'fs_site': u'26566', u'_id': 29391}, {u'fs_site': u'23896', u'_id': 29831}, {u'fs_site': u'23896', u'_id': 29834}, {u'fs_site': u'23896', u'_id': 29837}, {u'fs_site': u'23896', u'_id': 29839}, {u'fs_site': u'23896', u'_id': 29841}, {u'fs_site': u'23896', u'_id': 29843}, {u'fs_site': u'23896', u'_id': 29845}, {u'fs_site': u'23896', u'_id': 29847}, {u'fs_site': u'23900', u'_id': 29850}, {u'fs_site': u'23900', u'_id': 29851}, {u'fs_site': u'23900', u'_id': 29854}, {u'fs_site': u'23900', u'_id': 29857}, {u'fs_site': u'23900', u'_id': 29858}, {u'fs_site': u'23900', u'_id': 29861}, {u'fs_site': u'23900', u'_id': 29862}, {u'fs_site': u'23900', u'_id': 29863}, {u'fs_site': u'23866', u'_id': 29866}, {u'fs_site': u'23866', u'_id': 29868}, {u'fs_site': u'23866', u'_id': 29870}, {u'fs_site': u'23866', u'_id': 29873}, {u'fs_site': u'23866', u'_id': 29874}, {u'fs_site': u'23866', u'_id': 29877}, {u'fs_site': u'23866', u'_id': 29878}, {u'fs_site': u'23866', u'_id': 29881}]"
        list_datas = json.dumps(datas)
        data_dict = {}
        
        for list_data in list_datas:
            data_dict[list_data._id] = list_data.fs_site


        import pdb; pdb.set_trace()